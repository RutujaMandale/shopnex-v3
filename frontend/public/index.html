<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ShopNex ‚Äî Premium Store</title>
  <link rel="stylesheet" href="/css/style.css"/>
</head>
<body>
<nav class="navbar">
  <a href="/index.html" class="logo">Shop<span>Nex</span></a>
  <div class="nav-links">
    <a href="/index.html" class="active">Home</a>
    <a href="/products.html">Products</a>
    <a href="/cart.html">Cart <span class="cart-badge" id="cartCount">0</span></a>
  </div>
</nav>

<section class="hero">
  <div class="hero-text">
    <p class="hero-tag">New Collection 2025</p>
    <h1>Elevate Your<br/><em>Everyday</em></h1>
    <p>Handpicked premium products delivered to your door.</p>
    <a href="/products.html" class="btn-primary">Shop Now ‚Üí</a>
  </div>
  <div class="hero-visual">
    <div class="floating-card card1">‚≠ê 4.9 Top Rated</div>
    <div class="floating-card card2">üöö Free Shipping</div>
    <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=600&q=80" alt="Featured Product"/>
  </div>
</section>

<section class="featured">
  <h2>Featured Products</h2>
  <div class="product-grid" id="featuredGrid"></div>
  <a href="/products.html" class="btn-outline">View All Products</a>
</section>

<footer><p>&copy; 2025 ShopNex. All rights reserved.</p></footer>

<script src="/js/cart.js"></script>
<script>
  fetch('/api/products?limit=3')
    .then(r => r.json())
    .then(products => {
      const grid = document.getElementById('featuredGrid');
      products.slice(0,3).forEach(p => {
        grid.innerHTML += `
          <div class="product-card">
            <a href="/product-detail.html?id=${p.id}">
              <img src="${p.image_url}" alt="${p.name}"/>
              <div class="card-body">
                <span class="tag">${p.category}</span>
                <h3>${p.name}</h3>
                <p class="price">$${p.price.toFixed(2)}</p>
              </div>
            </a>
            <button class="btn-cart" onclick="addToCart(${p.id}, '${p.name}', ${p.price}, '${p.image_url}')">Add to Cart</button>
          </div>`;
      });
    });
  updateCartBadge();
</script>
</body>
</html>
